/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Graphique;

import Entities.Player;
import Level.Map;
import escape.Fenetre;
import org.newdawn.slick.AngelCodeFont;
import org.newdawn.slick.Color;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.Image;
import org.newdawn.slick.SlickException;
import org.newdawn.slick.fills.GradientFill;
import org.newdawn.slick.geom.Rectangle;

/**
 *
 * @author Wail
 */
public class HUD {
    AngelCodeFont font;
    Image hudImage;
    public HUD() throws SlickException {
        font = new AngelCodeFont("res/text/font/HUD_24pixel.fnt", new Image("res/text/font/HUD_24pixel_0.png"));
        hudImage = new Image("res/text/HUD/hud.png");
        
    
    }
    
    
    
    
    public void render(Graphics g, Map map){
        float posX = (map.getPlayer().getX()-Fenetre.offsetX)/0.5f;
        float posY = (map.getPlayer().getY()-Fenetre.offsetY)/0.5f;
        
         
       g.scale(0.5f, 0.5f);
      renderHudInfo(g, map.getPlayer());
        g.drawImage(hudImage,posX,posY);
        
        font.drawString(posX,posY, "Name , money, health, mana",Color.white);
         
    }
   public void renderHudInfo(Graphics g,Player player){
       float posX = (player.getX()-Fenetre.offsetX)/0.5f;
        float posY = (player.getY()-Fenetre.offsetY)/0.5f;
        //health bar
         GradientFill fill = new GradientFill(posX+119, posY+16, Color.green, posX+119+254, posY+16+17, new Color(99,183,141));
        
        g.setColor(new Color(58,31,40));
        g.fillRect(posX+122,posY+16, 251f, 17f);
        Rectangle rec = new Rectangle(posX+122, posY+16,(player.getHitPoints()/ player.getMaxHP()) * 251f, 17f);
        g.fill(rec, fill);
        
        //mana bar
       g.setColor(new Color(58,31,40));
        g.fillRect(posX+139,posY+37, 234f, 17f);
         g.setColor(new Color(34,0,78));
        g.fillRect(posX+139, posY+37, (player.getManaPoints()/ player.getMaxMana()) * 234f, 17f);
        
    }
    
}
